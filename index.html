<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <title>É o Dino</title>
</head>
<body>

    <header id="header-site">
        <div id="img-header">
            <img src="imagens/logo-dino.png">
        </div>

        <nav id="nav-header">
            <div id="box-btn-dino">
                <button id="btn-dino">
                    <div></div>
                    <div></div>
                    <div></div>
                </button>
            </div>

            <ul>
                <li class="item-nav-header">
                    <a href="#">Inicio</a>
                </li>

                <li class="item-nav-header">
                    <a href="#">Sobre</a>
                </li>

                <li class="item-nav-header">
                    <a href="#">Olympia</a>
                </li>

                <li class="item-nav-header">
                    <a href="#">Treinos</a>
                </li>
            </ul>
        </nav>
    </header>
    <h1 id="titulo-dino">Eu sou o Dino Monstro!!!!</h1>
    <section id="area-informacao">
        <div id="box-texto1">
            <div id="box-texto">
                <p >
                    Mussum Ipsum, cacilds vidis litro abertis.  Si num tem leite então bota uma pinga aí cumpadi! Delegadis gente finis, bibendum egestas augue arcu ut est. Quem num gosta di mim que vai caçá sua turmis! Bota 1 metro de cachacis aí pra viagem!
    
                    Mauris nec dolor in eros commodo tempor. Aenean aliquam molestie leo, vitae iaculis nisl. Nec orci ornare consequat. Praesent lacinia ultrices consectetur. Sed non ipsum felis. Vehicula non. Ut sed ex eros. Vivamus sit amet nibh non tellus tristique interdum. Nulla id gravida magna, ut semper sapien.
    
                    Per aumento de cachacis, eu reclamis. Nullam volutpat risus nec leo commodo, ut interdum diam laoreet. Sed non consequat odio. Eu nunca mais boto a boca num copo de cachaça, agora eu só uso canudis! Suco de cevadiss, é um leite divinis, qui tem lupuliz, matis, aguis e fermentis.
    
                    Suco de cevadiss deixa as pessoas mais interessantis. Em pé sem cair, deitado sem dormir, sentado sem cochilar e fazendo pose. Per aumento de cachacis, eu reclamis. Vehicula non. Ut sed ex eros. Vivamus sit amet nibh non tellus tristique interdum.
                </p>
            </div>
        </div>

        <div id="box-foto1">
            <img src="imagens/dino-bombado.png">
        </div>
    </section>

    <section id="sec-carrosel">
        <div id="titulo-carrosel">
            <h1>Escolha seu personal:</h1>
        </div>

        <div class="carrosel">
            <div class="nav nav-left">
                <button><</button>
            </div>

            <div class="carrosel-content">
                <div class="slide">
                    <div class="conteudo-produto">
                        <div class="box-img-produto">
                            <img src="imagens/dino1.jpg">
                        </div>
                            <div class="info-produto">
                                <h2>Fake Natty</h2>
                                <span>R$ 250,00</span>
                            </div>
                            <div class="box-cta">
                                <button class="cta-produto">Adicionar</button>
                            </div>
                    </div>
                </div>

                <div class="slide">
                    <div class="conteudo-produto">
                        <div class="box-img-produto">
                            <img src="imagens/dino2.jpg">
                        </div>
                            <div class="info-produto">
                                <h2>Dino Bombado</h2>
                                <span>R$ 130,00</span>
                            </div>
                            <div class="box-cta">
                                <button class="cta-produto">Adicionar</button>
                            </div>
                    </div>
                </div>

                <div class="slide">
                    <div class="conteudo-produto">
                        <div class="box-img-produto">
                            <img src="imagens/dino3.jpg">
                        </div>
                            <div class="info-produto">
                                <h2>Dino Gigante</h2>
                                <span>R$ 199,00</span>
                            </div>
                            <div class="box-cta">
                                <button class="cta-produto">Adicionar</button>
                            </div>
                    </div>
                </div>

                <div class="slide">
                    <div class="conteudo-produto">
                        <div class="box-img-produto">
                            <img src="imagens/dino4.jpg">
                        </div>
                            <div class="info-produto">
                                <h2>Musculoso</h2>
                                <span>R$ 154,00</span>
                            </div>
                            <div class="box-cta">
                                <button class="cta-produto">Adicionar</button>
                            </div>
                    </div>
                </div>

            </div>

            <div class="nav nav-right">
                <button>></button>
            </div>
        </div>
    </section>
    <div id="titulo-formulario">
        <h2>Envie sua dúvida</h2>
    </div>
    <section id="sec-formulario">
        <form action="" id="form-contato">
            <div class="row">
                <label for="nome">Nome</label>
                <input type="text" id="nome" required>
            </div>

            <div class="row">
                <label for="email">Email</label>
                <input type="email" name="email" id="email" required>
            </div>

            <div class="row">
                <label for="telefone"> Telefone</label>
                <input type="tel" name="telefone" id="telefone">
            </div>

            <div class="row">
                <label for="menssagem"> Menssagem:</label>
                <textarea name="menssagem" id="menssagem" cols="30" rows="10" required></textarea>
            </div>

            <div class="row">
                <input type="submit" value="Enviar">
            </div>
        </form>
    </section>

    <footer id="rodape">
        <div id="rodape-content">

            <div class="instagram">
                <img src="imagens/instagram.png">
            </div>

            <div class="whatsapp">
                <img src="imagens/whatsapp.png">
            </div>

            <div class="logo-rodape">
                <img src="imagens/dino-rodape.png">
            </div>

            <div class="xiss">
                <img src="imagens/twitter-alt.png">
            </div>

            <div class="youtube">
                <img src="imagens/youtube.png">
            </div>
            
        </div>
    </footer>

</body>

<script>

    document.addEventListener('DOMContentLoaded', function(){

        var btnDino = document.getElementById("btn-dino");
        var navHeader = document.querySelector("#nav-header ul");

        btnDino.addEventListener('click', function(evento){
            evento.preventDefault();

            btnDino.classList.toggle('ativo');
            navHeader.classList.toggle('ativo');
        });
    });

    var carousel = document.querySelector('.carrosel');
        var carouselContent = document.querySelector('.carrosel-content');
        var slides = document.querySelectorAll('.slide');
        var arrayOfSlides = Array.prototype.slice.call(slides); // Transformando NodeList em array
        var carouselDisplaying;
        var screenSize;
        setScreenSize(); // Inicializa o tamanho da tela
        var lengthOfSlide;

        // Função para adicionar um clone do último slide no início
        function addClone() {
            var lastSlide = carouselContent.lastElementChild.cloneNode(true);
            lastSlide.style.left = (-lengthOfSlide) + 'px';
            carouselContent.insertBefore(lastSlide, carouselContent.firstChild);
        }

        // Função para remover o primeiro slide (clone)
        function removeClone() {
            var firstSlide = carouselContent.firstChild;
            firstSlide.parentNode.removeChild(firstSlide);
        }

        // Movimenta os slides para a direita
        function moveSlideRight() {
            var slides = document.querySelectorAll('.slide');
            var slideArray = Array.prototype.slice.call(slides);
            var width = 0;

            slideArray.forEach(function(elemento) {
                // elemento.style.transition = 'left 0.5s ease-out'; // Adiciona transição
                elemento.style.left = width + 'px';
                width += lengthOfSlide;
            });
            addClone();
        }
        moveSlideRight(); // Move os slides ao carregar a página

        // Movimenta os slides para a esquerda
        function moveSlideLeft() {
            var slides = document.querySelectorAll('.slide');
            var slideArray = Array.prototype.slice.call(slides);
            slideArray = slideArray.reverse();
            var maxWidth = (slideArray.length - 1) * lengthOfSlide;

            slideArray.forEach(function(elemento) {
                maxWidth -= lengthOfSlide;
                elemento.style.left = maxWidth + 'px';
            });
        }

        // Atualiza o layout conforme o tamanho da tela
        window.addEventListener('resize', setScreenSize);

        // Define quantos slides serão exibidos de acordo com o tamanho da tela
        function setScreenSize() {
            if(window.innerWidth >= 1000){
                carouselDisplaying = 4
            }else if (window.innerWidth >= 769) {
                carouselDisplaying = 2;
            } else if (window.innerWidth <= 768) {
                carouselDisplaying = 1;
            } else {
                carouselDisplaying = 1;
            }
            getScreenSize();
        }

        // Ajusta o tamanho e posição de cada slide
        function getScreenSize() {
            var slides = document.querySelectorAll('.slide');
            var slideArray = Array.prototype.slice.call(slides);
            lengthOfSlide = (carousel.offsetWidth / carouselDisplaying);
            var initialWidth = -lengthOfSlide;

            slideArray.forEach(function(elemento) {
                elemento.style.width = lengthOfSlide + 'px';
                elemento.style.left = initialWidth + 'px';
                initialWidth += lengthOfSlide;
            });
        }

        var rightNav = document.querySelector('.nav-right');
        rightNav.addEventListener('click', moveLeft);

        var moving = true;

        // Move os slides para a direita
        function moveRight() {
            if (moving) {
                moving = false;
                var lastSlide = carouselContent.lastElementChild;
                lastSlide.parentNode.removeChild(lastSlide);
                carouselContent.insertBefore(lastSlide, carouselContent.firstChild);
                removeClone();
                var firstSlide = carouselContent.firstElementChild;
                firstSlide.addEventListener('transitionend', activateAgain);
                moveSlideRight();
            }
        }

        // Reativa a movimentação após a transição
        function activateAgain() {
            var firstSlide = carouselContent.firstElementChild;
            moving = true;
            firstSlide.removeEventListener('transitionend', activateAgain);
        }

        var leftNav = document.querySelector('.nav-left');
        leftNav.addEventListener('click', moveRight);

        // Move os slides para a esquerda
        function moveLeft() {
            if (moving) {
                moving = false;
                removeClone();
                var firstSlide = carouselContent.firstElementChild;
                firstSlide.addEventListener('transitionend', replaceToEnd);
                moveSlideLeft();
            }
        }

        // Move o primeiro slide para o fim e adiciona o clone
        function replaceToEnd() {
            var firstSlide = carouselContent.firstElementChild;
            firstSlide.parentNode.removeChild(firstSlide);
            carouselContent.appendChild(firstSlide);
            firstSlide.style.left = ((arrayOfSlides.length - 1) * lengthOfSlide) + 'px';
            addClone();
            moving = true;
            firstSlide.removeEventListener('transitionend', replaceToEnd);
        }

        // Detecta o movimento do mouse
        carouselContent.addEventListener('mousedown', seeMovement);

        var initialX;
        var initialPos;

        function seeMovement(evento) {
            initialX = evento.clientX;
            getInitialPos();
            carouselContent.addEventListener('mousemove', slightMove);
            document.addEventListener('mouseup', moveBasedOnMouse);
        }

        function slightMove(evento) {
            if (moving) {
                var movingX = evento.clientX;
                var difference = initialX - movingX;
                if (Math.abs(difference) < (lengthOfSlide / 4)) {
                    slightMoveSlides(difference);
                }
            }
        }

        // Captura a posição inicial dos slides
        function getInitialPos() {
            var slides = document.querySelectorAll('.slide');
            var slidesArray = Array.prototype.slice.call(slides);
            initialPos = [];

            slidesArray.forEach(function(elemento) {
                var left = Math.floor(parseInt(elemento.style.left.slice(0, -2), 10));
                initialPos.push(left);
            });
        }

        // Move os slides conforme a posição do mouse
        function slightMoveSlides(newX) {
            var slides = document.querySelectorAll('.slide');
            var slidesArray = Array.prototype.slice.call(slides);

            slidesArray.forEach(function(elemento, i) {
                var oldLeft = initialPos[i];
                elemento.style.left = (oldLeft + newX) + 'px';
            });
        }

        // Move os slides com base no movimento do mouse
        function moveBasedOnMouse(evento) {
            var finalX = evento.clientX;
            if (initialX - finalX > 0) {
                moveRight();
            } else if (initialX - finalX < 0) {
                moveLeft();
            }

            document.removeEventListener('mouseup', moveBasedOnMouse);
            carouselContent.removeEventListener('mousemove', slightMove);
        };
   

</script>
</html>